{"version":3,"sources":["components/common/paginator/paginator.module.scss","components/News/News.module.scss","components/Search/Search.module.scss","components/News/NewsItem/NewsItem.module.scss","components/Search/SearchForm/SearchForm.module.scss","assets/preloader.svg","components/common/preloader/Preloader.jsx","components/Search/SearchForm/SearchItem/SearchItem.jsx","components/Search/SearchForm/SearchForm.jsx","components/Search/Search.jsx","api/api.js","redux/news-reducer.js","redux/search-reducer.js","components/Search/SearchContainer.jsx","components/common/paginator/paginator.jsx","components/News/NewsItem/NewsItem.jsx","components/News/News.jsx","redux/popup-reducer.js","redux/news-selector.js","components/News/NewsContainer.jsx","components/common/popup/Popup.jsx","components/common/popup/PopupContainer.js","App.jsx","redux/store.jsx","index.js"],"names":["module","exports","Preloader","props","src","preloader","alt","SearchItem","value","text","Search","searchPage","sortElement","sort","map","d","id","searchInElement","searchIn","initialValues","onSubmit","values","setFormData","getNews","newsPage","currentPage","pageSize","className","s","form","form__input","name","form__wrapper","form__sort","form__sort__text","form__sort__field","as","form__searchIn","form__searchIn__text","form__searchIn__field","form__button","type","search","search__wrapper","search__title","SearchForm","undefined","news","instance","axios","baseURL","newsAPI","sortText","page","maxResults","keyAPI","get","SET_NEWS","SET_CURRENT_PAGE","TOGGLE_IS_FETCHING","SET_TOTAL_NEWS_COUNT","initialtState","totalNews","isFetching","setNews","setTotalNewsCount","toggleIsFetching","dispatch","a","nextPage","data","articles","totalResults","newsReducer","state","action","SET_FORM_DATA","GET_FORM_DATA","formData","booksReducer","compose","connect","Paginator","totalBooksCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","counter","btn","onClick","filter","p","cn","active","counter__item","e","NewsItem","togglePopupOpen","isPopupOpen","news__wrapper","news__inner","news__image","urlToImage","news__info","news__description","news__title","title","news__title__description","description","news__bottom","news__btn","author","news__author","news__source","news__source__name","source","news__source__publishedData","publishedAt","News","news__total","news__paginator","u","error","SET_POPUP_DATA","TOOGLE_POPUP_OPEN","popupData","setPopupData","setIsPopupOpen","book","popupReducer","getNewsState","getPageSize","getTotalNewsCount","getCurrentPage","getIsFetching","getFormData","NewsContainer","pageNumber","setCurrentPage","this","React","Component","popupPage","Popup","content","href","url","App","PopupContainer","SearchContainer","fallback","reducers","combineReducers","searchReducer","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7cd666b5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"paginator_counter__2Ny5d\",\"counter__item\":\"paginator_counter__item__3TBXy\",\"active\":\"paginator_active__i5raR\",\"btn\":\"paginator_btn__3WlLP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news__paginator\":\"News_news__paginator__g13L_\",\"news__wrapper\":\"News_news__wrapper__3GaEJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__1SGap\",\"search__wrapper\":\"Search_search__wrapper__1wepe\",\"search__title\":\"Search_search__title__3CgU_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news__inner\":\"NewsItem_news__inner__2TYaY\",\"news__image\":\"NewsItem_news__image__37cky\",\"news__author\":\"NewsItem_news__author__1xfAQ\",\"news__source\":\"NewsItem_news__source__2kpP5\",\"news__btn\":\"NewsItem_news__btn__3FeMm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form__input\":\"SearchForm_form__input__esjOF\",\"form__sort\":\"SearchForm_form__sort__12ezh\",\"form__sort__text\":\"SearchForm_form__sort__text__3LYlW\",\"form__sort__field\":\"SearchForm_form__sort__field__2fvGp\",\"form__searchIn\":\"SearchForm_form__searchIn__3lPlB\",\"form__searchIn__text\":\"SearchForm_form__searchIn__text__292mS\",\"form__searchIn__field\":\"SearchForm_form__searchIn__field__2Swx4\",\"form__button\":\"SearchForm_form__button__1zZ06\"};","export default __webpack_public_path__ + \"static/media/preloader.a9c647ed.svg\";","import preloader from '../../../assets/preloader.svg'\r\n\r\nfunction Preloader(props) {\r\n  return <img src={preloader} alt=\"preloader\" />\r\n}\r\n\r\nexport default Preloader;","function SearchItem(props) {\r\n  return (\r\n    <option value={props.text}>{props.text}</option>\r\n  )\r\n}\r\nexport default SearchItem","import { Formik, Form, Field } from 'formik'\r\nimport SearchItem from './SearchItem/SearchItem'\r\n\r\nimport s from './SearchForm.module.scss'\r\n\r\nfunction Search(props) {\r\n  let searchPage = props.searchPage;\r\n\r\n  let sortElement = searchPage.sort.map(d => <SearchItem text={d.text} key={d.id} />);\r\n  let searchInElement = searchPage.searchIn.map(d => <SearchItem text={d.text} key={d.id} />);\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        text: '',\r\n        sort: 'Relevance',\r\n        searchIn: 'Everything',\r\n      }}\r\n      onSubmit={values => {\r\n        props.setFormData(values)\r\n        props.getNews(values, props.newsPage.currentPage, props.newsPage.pageSize)\r\n      }}>\r\n      <Form className={s.form}>\r\n        <Field className={s.form__input} name=\"text\" />\r\n        <div className={s.form__wrapper}>\r\n          <div className={s.form__sort}>\r\n            <label className={s.form__sort__text}>Sorting by</label>\r\n            <Field className={s.form__sort__field} name=\"sort\" as=\"select\">\r\n              {sortElement}\r\n            </Field>\r\n          </div>\r\n          <div className={s.form__searchIn}>\r\n            <label className={s.form__searchIn__text}>Search in</label>\r\n            <Field className={s.form__searchIn__field} name=\"searchIn\" as=\"select\">\r\n              {searchInElement}\r\n            </Field>\r\n          </div>\r\n        </div>\r\n        <button className={s.form__button} type=\"submit\">Submit</button>\r\n      </Form>\r\n    </Formik>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Search;","import SearchForm from './SearchForm/SearchForm'\r\n\r\nimport s from './Search.module.scss'\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <div className={s.search}>\r\n      <div className={s.search__wrapper}>\r\n        <h1 className={s.search__title}>Search news</h1>\r\n        <SearchForm\r\n          searchPage={props.searchPage}\r\n          newsPage={props.newsPage}\r\n          getNews={props.getNews}\r\n          setFormData={props.setFormData}\r\n        />\r\n      </div>\r\n      {\r\n        props.newsPage.news[0] !== undefined\r\n          ?\r\n          <h3>Happy reading!</h3>\r\n          :\r\n          <h3>...The news are almost here, it remains button</h3>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'https://newsapi.org/v2/',\r\n});\r\n\r\nexport const newsAPI = {\r\n  getNews(sortText = 'javascript', page = 0, maxResults = 30) {\r\n    const keyAPI = 'e17f513c62084bc18600e4a9d65c2abc'\r\n    return instance.get(`${sortText.searchIn}?q=${sortText.text}&sortBy=${sortText.sort}&page=${page}&pageSize=${maxResults}&apiKey=${keyAPI}`)\r\n  }\r\n}","import { newsAPI } from './../api/api'\r\n\r\nconst SET_NEWS = 'SET_NEWS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst SET_TOTAL_NEWS_COUNT = 'SET_TOTAL_NEWS_COUNT'\r\n\r\nlet initialtState = {\r\n  news: [],\r\n  pageSize: 20,\r\n  totalNews: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n};\r\n\r\nfunction newsReducer(state = initialtState, action) {\r\n  switch (action.type) {\r\n    case SET_NEWS:\r\n      return { ...state, news: action.news }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage }\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching }\r\n    }\r\n    case SET_TOTAL_NEWS_COUNT: {\r\n      return { ...state, totalNews: action.totalNews }\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const setNews = (news) => ({ type: SET_NEWS, news })\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setTotalNewsCount = (totalNews) => ({ type: SET_TOTAL_NEWS_COUNT, totalNews })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const getNews = (values, currentPage = 0, maxResults = 30) => {\r\n  return async (dispatch) => {\r\n    dispatch(toggleIsFetching(true))\r\n\r\n    let nextPage = currentPage > 0 ? currentPage++ : 0\r\n    let data = await newsAPI.getNews(values, nextPage, maxResults)\r\n    dispatch(setNews(data.data.articles))\r\n    dispatch(setTotalNewsCount(data.data.totalResults))\r\n\r\n    dispatch(toggleIsFetching(false))\r\n  }\r\n}\r\n\r\n\r\nexport default newsReducer;","const SET_FORM_DATA = 'SET_FORM_DATA'\r\nconst GET_FORM_DATA = 'GET_FORM_DATA'\r\n\r\nlet initialtState = {\r\n  sort: [\r\n    { id: 1, text: 'Relevance' },\r\n    { id: 2, text: 'Popularity' },\r\n    { id: 3, text: 'PublishedAt' }\r\n  ],\r\n  searchIn: [\r\n    { id: 1, text: 'Everything' },\r\n    { id: 2, text: 'Top-headlines' }\r\n  ],\r\n  formData: {\r\n    text: '',\r\n    sort: 'Relevance',\r\n    searchIn: 'Everything',\r\n  }\r\n};\r\n\r\nfunction booksReducer(state = initialtState, action) {\r\n  switch (action.type) {\r\n    case SET_FORM_DATA: {\r\n      return { ...state, formData: action.formData }\r\n    }\r\n    case GET_FORM_DATA: {\r\n      return { ...state, formData: action.formData }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setFormData = (formData) => ({ type: SET_FORM_DATA, formData })\r\n\r\nexport const getFormData = () => ({ type: GET_FORM_DATA })\r\n\r\nexport default booksReducer;","import Search from './Search';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { getNews } from './../../redux/news-reducer'\r\nimport { setFormData } from './../../redux/search-reducer'\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    searchPage: state.searchPage,\r\n    newsPage: state.newsPage,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getNews, setFormData }),\r\n)(Search)","import { useState } from 'react';\r\nimport s from './paginator.module.scss'\r\nimport cn from 'classnames';\r\n\r\nlet Paginator = ({ totalBooksCount, pageSize, currentPage, onPageChanged, portionSize = 10 }) => {\r\n  let pagesCount = Math.ceil(totalBooksCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount - 1; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  return (\r\n    <ul className={s.counter}>\r\n      {portionNumber > 1 &&\r\n        <button className={s.btn} onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => {\r\n          return <span className={cn({\r\n            [s.active]: currentPage === p\r\n          }, s.counter__item)}\r\n            key={p}\r\n            onClick={(e) => { onPageChanged(p) }}>{p}</span>\r\n        })}\r\n      {portionCount > portionNumber &&\r\n        <button className={s.btn} onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button>}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Paginator;","import s from './NewsItem.module.scss'\r\n\r\nlet NewsItem = ({ news, togglePopupOpen, isPopupOpen }) => {\r\n  return (\r\n\r\n    <div className={s.news__wrapper}>\r\n      <div className={s.news__inner}>\r\n        <img className={s.news__image} src={\r\n          news.urlToImage\r\n            ?\r\n            news.urlToImage\r\n            :\r\n            null\r\n        } alt=\"\" />\r\n        <div className={s.news__info}>\r\n          <div className={s.news__description}>\r\n\r\n            <h3 className={s.news__title}>{news.title}</h3>\r\n            <p className={s.news__title__description}>{news.description}</p>\r\n          </div>\r\n        </div>\r\n        <div className={s.news__bottom}>\r\n          <button className={s.news__btn} onClick={() => { togglePopupOpen(news, !isPopupOpen) }} >Show more</button>\r\n          {\r\n            news.author\r\n              ?\r\n              <div className={s.news__author}>\r\n                <span>Автор: {news.author}</span>\r\n              </div>\r\n              :\r\n              null\r\n          }\r\n          <div className={s.news__source}>\r\n            <span className={s.news__source__name}>Источник: {news.source.name}</span>\r\n            <span className={s.news__source__publishedData}>{news.publishedAt}</span>\r\n          </div>\r\n        </div>\r\n\r\n      </div>\r\n    </div >\r\n  )\r\n}\r\n\r\nexport default NewsItem;","import Paginator from './../common/paginator/paginator'\r\nimport Preloader from './../common/preloader/Preloader'\r\nimport NewsItem from './NewsItem/NewsItem'\r\nimport s from './News.module.scss'\r\n\r\nfunction News({ news, onPageChanged, pageSize, totalBooksCount, currentPage, isFetching, isPopupOpen, togglePopupOpen }) {\r\n  return (\r\n    <div>\r\n      {totalBooksCount > 0\r\n        ?\r\n        <div>\r\n          <h2 className={s.news__total}>Total news we found: {totalBooksCount}</h2>\r\n          <div className={s.news__paginator}>\r\n            <Paginator\r\n              currentPage={currentPage}\r\n              onPageChanged={onPageChanged}\r\n              totalBooksCount={totalBooksCount}\r\n              pageSize={pageSize} />\r\n          </div>\r\n        </div>\r\n        :\r\n        null\r\n      }\r\n      <div className={s.news__wrapper}>\r\n        {isFetching\r\n          ?\r\n          <Preloader />\r\n          :\r\n          news !== undefined\r\n            ?\r\n            news.map((u, i) =>\r\n              <NewsItem\r\n                news={u}\r\n                key={i}\r\n                isPopupOpen={isPopupOpen}\r\n                togglePopupOpen={togglePopupOpen}\r\n              />\r\n            )\r\n            :\r\n            <span className={s.error}>News is gone (try again)</span>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News;","const SET_POPUP_DATA = 'SET_POPUP_DATA'\r\nconst TOOGLE_POPUP_OPEN = 'TOOGLE_POPUP_OPEN'\r\n\r\nlet initialtState = {\r\n  popupData: { },\r\n  isPopupOpen: false,\r\n};\r\n\r\nfunction popupReducer(state = initialtState, action) {\r\n  switch (action.type) {\r\n    case SET_POPUP_DATA:\r\n      return { ...state, popupData: action.popupData }\r\n    case TOOGLE_POPUP_OPEN:\r\n      return { ...state, isPopupOpen: action.isPopupOpen }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setPopupData = (popupData) => ({ type: SET_POPUP_DATA, popupData })\r\nexport const setIsPopupOpen = (isPopupOpen) => ({ type: TOOGLE_POPUP_OPEN, isPopupOpen })\r\n\r\nexport const togglePopupOpen = (book, isPopupOpen) => {\r\n  return async (dispatch) => {\r\n    dispatch(setPopupData(book));\r\n    dispatch(setIsPopupOpen(isPopupOpen));\r\n  }\r\n}\r\n\r\nexport default popupReducer;","export const getNewsState = (state) => {\r\n  return state.newsPage.news\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.newsPage.pageSize\r\n}\r\n\r\nexport const getTotalNewsCount = (state) => {\r\n  return state.newsPage.totalNews\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.newsPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.newsPage.isFetching\r\n}\r\n\r\nexport const getFormData = (state) => {\r\n  return state.searchPage.formData\r\n}","import React from 'react'\r\nimport News from './News'\r\nimport { connect } from 'react-redux'\r\nimport { compose } from 'redux'\r\nimport Preloader from './../common/preloader/Preloader'\r\nimport { getNews, setCurrentPage } from './../../redux/news-reducer'\r\nimport { setPopupData, togglePopupOpen } from './../../redux/popup-reducer'\r\nimport {\r\n  getNewsState,\r\n  getPageSize,\r\n  getTotalNewsCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFormData,\r\n} from '../../redux/news-selector'\r\n\r\nclass NewsContainer extends React.Component {\r\n  onPageChanged = (pageNumber) => {\r\n    this.props.setCurrentPage(pageNumber)\r\n    this.props.getNews(this.props.formData, pageNumber, this.props.pageSize)\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        {\r\n\r\n          !this.props.isFetching\r\n            ?\r\n            <News\r\n              news={this.props.news}\r\n              pageSize={this.props.pageSize}\r\n              onPageChanged={this.onPageChanged}\r\n              totalBooksCount={this.props.totalBooksCount}\r\n              currentPage={this.props.currentPage}\r\n              isFetching={this.props.isFetching}\r\n\r\n              isPopupOpen={this.props.isPopupOpen}\r\n              togglePopupOpen={this.props.togglePopupOpen}\r\n            />\r\n            :\r\n            <Preloader />\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    news: getNewsState(state),\r\n    pageSize: getPageSize(state),\r\n    totalBooksCount: getTotalNewsCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    formData: getFormData(state),\r\n\r\n    isPopupOpen: state.popupPage.isPopupOpen,\r\n    togglePopupOpen: togglePopupOpen,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getNews, setCurrentPage, setPopupData, togglePopupOpen }),\r\n)(NewsContainer);","import './popup.scss'\r\n\r\nlet Popup = (props) => {\r\n  let popupPage = props.popupPage\r\n  let news = props.popupPage.popupData\r\n  return (\r\n    <div>\r\n      {\r\n        news !== undefined\r\n          ?\r\n          <div className={`popup ${popupPage.isPopupOpen ? 'open' : 'close'}`}>\r\n            <div className=\"popup__body\">\r\n              <div className=\"popup__close\" onClick={() => { props.togglePopupOpen(!popupPage.isPopupOpen) }}>×</div>\r\n              <h3>{news.title}</h3>\r\n              <img className=\"popup__image\" src={\r\n                news.urlToImage\r\n                  ?\r\n                  news.urlToImage\r\n                  :\r\n                  null\r\n              } alt=\"\" />\r\n\r\n              <p className=\"popup__content\">{news.content}</p>\r\n\r\n              <div className='news__source'>\r\n                <span className='news__source__publishedData'>{news.publishedAt}</span>\r\n              </div>\r\n              <div className=\"popup__authors\">\r\n                {\r\n                  news.source\r\n                    ?\r\n                    <span>Авторы: {news.source.name}</span>\r\n                    :\r\n                    null\r\n                }\r\n              </div>\r\n              <div>\r\n                <span>Ссылка на источник: </span>\r\n                <a href={news.url} className='news__link'>{news.url}</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          :\r\n          null\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Popup;","import Popup from './Popup';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { setPopupData, togglePopupOpen } from './../../../redux/popup-reducer'\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    popupPage: state.popupPage,\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { setPopupData, togglePopupOpen }),\r\n)(Popup);","import { Suspense } from 'react'\nimport Preloader from './components/common/preloader/Preloader'\nimport SearchContainer from './components/Search/SearchContainer'\nimport NewsContainer from './components/News/NewsContainer'\nimport PopupContainer from './components/common/popup/PopupContainer'\nimport './App.css'\n\nfunction App(props) {\n  return (\n    <div className=\"App\">\n      <PopupContainer />\n      <SearchContainer />\n      <Suspense fallback={<Preloader />}>\n        <div className=\"content\">\n          <NewsContainer />\n        </div>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","import { applyMiddleware, combineReducers, createStore } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\n\r\nimport newsReducer from './news-reducer';\r\nimport searchReducer from './search-reducer'\r\nimport popupReducer from './popup-reducer'\r\n\r\nlet reducers = combineReducers({\r\n  newsPage: newsReducer,\r\n  searchPage: searchReducer,\r\n  popupPage: popupReducer,\r\n})\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nexport default store","import ReactDOM from 'react-dom'\nimport App from './App'\nimport store from './redux/store';\nimport { Provider } from 'react-redux';\n\nimport './index.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}